---
// FRONTMATTER
import ProjectCard from "../components/ProjectCard.astro";
import MetricCard from "../components/MetricCard.astro";
import GitHubShowcase from "../components/GitHubShowcase.astro";
import HeroIntro from "../components/HeroIntro.astro";  // CHANGE: use component hero

const projects = [
  {
    title: "SafeRoomAI",
    summary: "Real-time video anomaly detection (YOLO + Autoencoder fallback) with reproducible pipeline.",
    stack: ["Python","YOLO","Autoencoder","DVC","MLflow","BentoML","K8s"],
    highlights: [
      "Latency optimization (quantization & adaptive micro-batching)",
      "DVC + MLflow tracked experiments (hash-pinned)",
      "RTSP watchdog with local .mp4 fallback"
    ],
    repo: "https://github.com/DC-Capstone1W25/SafeRoomAI",
    caseStudy: "/projects/saferoomai"
  }
];

const metrics = [
  { label: "Pipelines Tracked", value: "10+", note: "DVC & MLflow" },
  { label: "Latency Improvement", value: "42%", note: "Inference p95 cut" },
  { label: "Articles", value: "1+", note: "MLOps deep dive" }
];
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Thedyson Luzon â€“ AI & MLOps Engineer</title>
    <meta name="description" content="AI & MLOps Engineer delivering real-time computer vision, reproducible ML pipelines, and cloud-native full-stack solutions." />
    <meta name="author" content="Thedyson Eduard Luzon" />
    <link rel="canonical" href="https://thedysonluzon.github.io/" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta property="og:title" content="Thedyson Luzon â€“ AI & MLOps Engineer" />
    <meta property="og:description" content="Real-Time CV â€¢ Reproducible ML â€¢ Cloud & CI/CD â€¢ Full-Stack" />
    <meta property="og:image" content="/og-default.png" />
    <meta name="twitter:card" content="summary_large_image" />
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to content</a>
    <header class="site-header">
      <nav class="top-nav" aria-label="Primary">
        <a href="/" class="brand">TL</a>
        <ul>
          <li><a href="#projects">Projects</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/resume.pdf" target="_blank" rel="noopener">Resume</a></li>
          <li><button id="theme-toggle" aria-label="Toggle theme">ðŸŒ“</button></li>
        </ul>
      </nav>
    </header>

    <main id="main-content">
      <HeroIntro metricsList={metrics} />  {/* CHANGE: hero component consumes metrics */}

      <section id="projects">
        <h2>Highlighted Projects</h2>
        <div class="projects-grid">
          {projects.map(p => <ProjectCard {...p} />)}
        </div>
      </section>

      <GitHubShowcase />

      <section id="blog">
        <h2>Latest Article</h2>
        <p><a href="/blog/dvc-mlflow-bentoml">Unifying DVC, MLflow & BentoML â†’</a></p>
      </section>

      <section id="contact">
        <h2>Contact</h2>
        <p>Email: <a href="mailto:luzon.thedyson@gmail.com">luzon.thedyson@gmail.com</a></p>
        <p>
          <a href="https://github.com/ThedysonLuzon" target="_blank" rel="noopener">GitHub</a> Â·
          <a href="https://www.linkedin.com/in/thedysonluzon/" target="_blank" rel="noopener">LinkedIn</a>
        </p>
      </section>
    </main>

    <footer>Â© {new Date().getFullYear()} Thedyson Luzon. All rights reserved.</footer>

    <script>
      // Theme toggle (no framework)
      const btn = document.getElementById('theme-toggle');
      const root = document.documentElement;
      const stored = localStorage.getItem('theme');
      if (stored) root.dataset.theme = stored;
      btn?.addEventListener('click', () => {
        const next = root.dataset.theme === 'light' ? 'dark' : 'light';
        root.dataset.theme = next;
        localStorage.setItem('theme', next);
      });
    </script>
  </body>
</html>

<style>
/* Shared variables with light/dark switch via [data-theme] */
:root {
  --accent:#4f46e5;
  --bg:#0d1117;
  --fg:#e6e6e6;
  --surface:#10141a;
  --border:#2a2f35;
  --focus-ring: 0 0 0 3px rgba(79,70,229,.5);
}
:root[data-theme='light'] {
  --bg:#ffffff;
  --fg:#1b1f23;
  --surface:#f5f7fb;
  --border:#d0d7de;
}
* { box-sizing:border-box; }
body {
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:var(--bg);
  color:var(--fg);
  line-height:1.5;
  -webkit-font-smoothing: antialiased;
}

/* Skip link */
.skip-link {
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus {
  position:static; width:auto; height:auto; padding:.5rem .75rem;
  background:var(--accent); color:#fff; border-radius:6px;
}

.site-header {
  position:sticky; top:0; z-index:40;
  backdrop-filter:blur(8px);
  background:rgba(13,17,23,.8);
  border-bottom:1px solid var(--border);
}
:root[data-theme='light'] .site-header {
  background:rgba(255,255,255,.85);
}

.top-nav {
  display:flex; align-items:center; justify-content:space-between;
  max-width:1180px; margin:0 auto; padding:.6rem 1.1rem;
}
.top-nav ul {
  list-style:none; margin:0; padding:0; display:flex; gap:1rem; align-items:center;
}
.top-nav a.brand {
  font-weight:600; font-size:1.1rem; letter-spacing:.5px; text-decoration:none; color:var(--fg);
}
.top-nav a { color:var(--fg); text-decoration:none; font-size:.8rem; letter-spacing:.5px; }
.top-nav a:hover { color:var(--accent); }
#theme-toggle {
  background:var(--surface); color:var(--fg); border:1px solid var(--border);
  padding:.45rem .65rem; border-radius:8px; cursor:pointer; font-size:.8rem;
}
#theme-toggle:focus { outline:none; box-shadow: var(--focus-ring); }

main { max-width:1180px; margin:auto; padding:0 1.2rem 4rem; }
section { margin-top:3.2rem; }
h2 { font-size:1.55rem; margin:0 0 1rem; letter-spacing:.5px; }
.projects-grid { display:grid; gap:1.25rem; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); }
a { color:var(--accent); }
a:hover { text-decoration:underline; }
footer { text-align:center; padding:3rem 1rem 4rem; font-size:.75rem; opacity:.55; }
@media (max-width:600px){
  .projects-grid { grid-template-columns:1fr; }
}
</style>
