---
/**
 * HeroIntro.astro
 * Professional hero section with metrics & impact table.
 *
 * Props:
 *   metricsList?: Array<{label:string; value:string; note?:string}>
 */
export interface Props {
  metricsList?: Array<{label:string; value:string; note?:string}>;
}
const { metricsList = [] } = Astro.props;

const metrics = {
  fps: "24",
  p95ms: "85",
  iterBefore: "5 days",
  iterAfter: "6 hours",
  apiP95: "120",
  apiRps: "300",
  imgShrinkPct: "62",
  imgFrom: "1.3 GB",
  imgTo: "490 MB",
  errorRate: "0.4",
  uptime: "90.9"
};
function v(x:string){ return x || "—"; }
---
<section class="hero-intro" aria-labelledby="hero-name">
  <header class="hero-head">
    <h1 id="hero-name">Thedyson Eduard Luzon</h1>
    <p class="tagline">
      <strong>AI &amp; MLOps Engineer · Full‑Stack (MERN + GraphQL)</strong><br />
      Real‑Time Computer Vision • Reproducible ML Pipelines • Scalable Cloud Platforms<br />
      <span class="avail-badge" aria-label="Availability Badge">Seeking Fall 2025 Internship</span>
    </p>
    <nav class="primary-cta" aria-label="Primary calls to action">
      <a class="btn primary" href="/resume.pdf" target="_blank" rel="noopener">Resume</a>
      <a class="btn" href="mailto:luzon.thedyson@gmail.com">Email</a>
      <a class="btn" href="https://www.linkedin.com/in/thedysonluzon/" target="_blank" rel="noopener">LinkedIn</a>
      <a class="btn" href="https://github.com/ThedysonLuzon" target="_blank" rel="noopener">GitHub</a>
    </nav>

    {metricsList.length > 0 && (
      <div class="metrics-row" aria-label="Key portfolio metrics">
        {metricsList.map(m => (
          <div class="metric">
            <div class="metric-value">{m.value}</div>
            <div class="metric-label">{m.label}</div>
            {m.note && <div class="metric-note">{m.note}</div>}
          </div>
        ))}
      </div>
    )}
  </header>

  <section class="value" aria-labelledby="value-title">
    <h2 id="value-title" class="visually-hidden">Value Proposition</h2>
    <ul class="value-bullets">
      <li>Low‑latency real‑time CV (p95 &lt; {v(metrics.p95ms)} ms)</li>
      <li>Experiment cycle compression ({v(metrics.iterBefore)} → {v(metrics.iterAfter)})</li>
      <li>End‑to‑end reproducibility (data &amp; model versioning)</li>
      <li>Production ML APIs with robust observability</li>
      <li>Metric‑driven stakeholder communication</li>
    </ul>
  </section>

  <section class="impact" aria-labelledby="impact-title">
    <h2 id="impact-title" class="section-heading">Impact Highlights</h2>
    <table aria-describedby="impact-caption">
      <caption id="impact-caption">Representative engineering outcomes and enabling techniques.</caption>
      <thead>
        <tr><th>Domain</th><th>Result</th><th>Stack</th><th>Approach</th></tr>
      </thead>
      <tbody>
        <tr>
          <td>Real‑Time Inference</td>
          <td>~{v(metrics.fps)} FPS, p95 {v(metrics.p95ms)} ms</td>
          <td>PyTorch · YOLOv8 · FastAPI</td>
          <td>Async batching; zero‑copy frames</td>
        </tr>
        <tr>
          <td>Experiment Velocity</td>
          <td>{v(metrics.iterBefore)} → {v(metrics.iterAfter)}</td>
          <td>DVC · MLflow</td>
          <td>Versioned data & run tracking</td>
        </tr>
        <tr>
          <td>API Performance</td>
          <td>p95 {v(metrics.apiP95)} ms @ {v(metrics.apiRps)} rps</td>
          <td>FastAPI · Apollo</td>
          <td>Resolver batching + caching</td>
        </tr>
        <tr>
          <td>Container Footprint</td>
          <td>↓ {v(metrics.imgShrinkPct)}% ({v(metrics.imgFrom)} → {v(metrics.imgTo)})</td>
          <td>Docker Multi‑Stage</td>
          <td>Layer pruning & slimming</td>
        </tr>
        <tr>
          <td>Reliability</td>
          <td>Error &lt; {v(metrics.errorRate)}% / Uptime {v(metrics.uptime)}%</td>
          <td>K8s · Probes · Logs</td>
          <td>Liveness/readiness + structured logs</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="stack" aria-labelledby="stack-title">
    <h2 id="stack-title" class="section-heading">Core &amp; Supporting Stack</h2>
    <div class="stack-groups">
      <div class="stack-group">
        <h3>Core</h3>
        <p>Python · PyTorch · FastAPI · React · Node.js · GraphQL · Docker · Kubernetes · AWS</p>
      </div>
      <div class="stack-group">
        <h3>MLOps / Infra</h3>
        <p>DVC · MLflow · BentoML · GitHub Actions · CI/CD · Monitoring</p>
      </div>
      <div class="stack-group">
        <h3>Data</h3>
        <p>PostgreSQL · MongoDB · S3</p>
      </div>
      <div class="stack-group">
        <h3>Quality / Tooling</h3>
        <p>Pytest · Jest · Ruff · ESLint · Prettier · Profilers</p>
      </div>
    </div>
  </section>
</section>

<style>
.hero-intro {
  max-width:1120px;
  margin:0 auto 3.5rem;
  padding:2.5rem 1.2rem 0;
}
.hero-head h1 {
  margin:0 0 .75rem;
  font-size:clamp(2.4rem,4.8vw,3.4rem);
  letter-spacing:.6px;
}
.tagline { margin:0 0 1.3rem; line-height:1.45; font-size:1rem; text-align:left; }
@media (min-width:760px){ .tagline { text-align:center; } }

.avail-badge {
  display:inline-block; margin-top:.45rem;
  background:rgba(var(--color-accent-rgb),.18);
  color:var(--color-accent);
  font-size:.65rem; letter-spacing:.6px;
  padding:.3rem .6rem;
  border-radius:999px;
  font-weight:600;
  text-transform:uppercase;
}

.primary-cta {
  display:flex; flex-wrap:wrap; gap:.75rem;
  justify-content:center; margin:0 0 2.2rem;
}
.btn {
  padding:.65rem 1.15rem;
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  font-size:.85rem;
  border-radius:38px;
  font-weight:500;
  transition:background var(--transition), filter var(--transition), border-color var(--transition);
}
.btn.primary {
  background:var(--color-accent);
  border-color:var(--color-accent);
  color:#fff;
}
.btn:hover { filter:brightness(1.1); }

.metrics-row { display:flex; flex-wrap:wrap; gap:.8rem; justify-content:center; margin-top:.4rem; }
.metric {
  background:var(--color-surface);
  border:1px solid var(--color-border-soft);
  border-radius:14px;
  padding:.75rem .9rem;
  min-width:128px;
  text-align:center;
  transition: var(--transition);
}
.metric-value { font-size:1.15rem; font-weight:600; color:var(--color-accent); }
.metric-label { font-size:.6rem; letter-spacing:.6px; opacity:.7; text-transform:uppercase; margin-top:.25rem; }
.metric-note { font-size:.55rem; opacity:.5; margin-top:.2rem; }

.section-heading {
  font-size:1.2rem;
  margin:2.6rem 0 .8rem;
  letter-spacing:.5px;
}

.value-bullets {
  list-style:disc;
  margin:.2rem 0 0;
  padding-left:1.15rem;
  font-size:.9rem;
  line-height:1.35;
  max-width:900px;
}

.impact table {
  width:100%;
  border-collapse:collapse;
  font-size:.75rem;
  background:var(--color-bg-alt);
  border:1px solid var(--color-border);
  border-radius:12px;
  overflow:hidden;
}
.impact thead th {
  background:var(--color-surface);
  color:var(--color-text);
  font-weight:600;
  letter-spacing:.4px;
  padding:.55rem .65rem;
  border-bottom:1px solid var(--color-border);
  text-align:left;
  font-size:.7rem;
}
:root[data-theme='light'] .impact thead th {
  background:var(--color-surface-alt);
}
.impact tbody td {
  padding:.55rem .65rem;
  border-top:1px solid var(--color-border);
  vertical-align:top;
  color:var(--color-text);
}
.impact caption {
  text-align:left;
  font-size:.6rem;
  letter-spacing:.5px;
  text-transform:uppercase;
  padding:.45rem .65rem .3rem;
  color:var(--color-text-dim);
}

.stack-groups {
  display:grid;
  gap:1.1rem;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  margin-top:.6rem;
}
.stack-group h3 {
  margin:.1rem 0 .35rem;
  font-size:.8rem;
  letter-spacing:.5px;
  text-transform:uppercase;
  opacity:.8;
}
.stack-group p {
  margin:0;
  font-size:.74rem;
  line-height:1.35;
  opacity:.85;
}

.visually-hidden {
  position:absolute; width:1px; height:1px;
  margin:-1px; padding:0; overflow:hidden;
  clip:rect(0 0 0 0); white-space:nowrap; border:0;
}

@media (max-width:640px){
  .impact table { font-size:.68rem; }
  .value-bullets { font-size:.85rem; }
}
</style>
